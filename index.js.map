{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["// –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–µ–∫–µ–Ω–¥–æ–º\n\nimport axios from 'axios';\n\nconst BASE_URL = 'https://dummyjson.com';\n\nexport async function getCategories() {\n  const ENDPOINT = '/products/categories';\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getProducts(currentPage = 1) {\n  const ENDPOINT = `/products?limit=12&skip=${(currentPage - 1) * 12}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getCategoryProducts(categoryId, page = 1) {\n  const skip = (page - 1) * 12;\n  const ENDPOINT = `/products/category/${categoryId}?limit=12&skip=${skip}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getOneProduct(id) {\n  const ENDPOINT = `/products/${id}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n","//–û–± º—î–∫—Ç –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ –Ω–∞ –î–û–ú –µ–ª–µ–º–µ–Ω—Ç–∏\n\nexport const refs = {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  loadMoreBtn: document.querySelector('.button-more'),\n};\n","//–§—É–Ω–∫—Ü—ñ—é –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–Ω–¥–µ—Ä—É –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ç–∫–∏\n\nfunction createGallery(info) {\n  return info\n    .map(\n      ({ slug, name }) => `\n          <li class=\"categories_item\" data-id=\"${slug}\">\n           \n           <button class=\"categories__btn\">${name}</button>\n\n          </li>\n        `\n    )\n    .join('');\n}\n\nexport function renderGallery(info) {\n  const categories = document.querySelector('.categories');\n  categories.insertAdjacentHTML('beforeend', createGallery(info));\n}\n\nfunction createProducts(item) {\n  return item\n    .map(\n      ({ id, title, description, brand, category, images, price }) =>\n        `<li class=\"products__item\" data-id=\"${id}\">\n        <img class=\"products__image\" src=\"${images[0]}\" alt=\"${description}\" />\n        <p class=\"products__title\">${title}</p>\n        <p class=\"products__brand\">\n          <span class=\"products__brand--bold\">Brand: ${brand}</span>\n        </p>\n        <p class=\"products__category\">Category: ${category} </p>\n        <p class=\"products__price\">Price: ${price} $</p>\n      </li>`\n    )\n    .join('');\n}\n\nexport function renderProducts(item) {\n  const products = document.querySelector('.products');\n  products.innerHTML = ''; // üßπ –æ—á–∏—â–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ\n  products.insertAdjacentHTML('beforeend', createProducts(item));\n}\n\nexport function showLoadMoreButton() {\n  buttonMore.classList.remove('hiddenbtn');\n}\n\nexport function hideLoadMoreButton() {\n  buttonMore.classList.add('hiddenbtn');\n}\n\nexport function renderProductsAll(item) {\n  const products = document.querySelector('.products');\n\n  products.insertAdjacentHTML('beforeend', createProducts(item));\n}\nfunction createProductModal(product) {\n  const { title, description, brand, category, images, price, tags } = product;\n\n  const tagsMarkup = tags\n    .map(tag => `<li class=\"modal-product__tag-item\">#${tag}</li>`)\n    .join('');\n\n  return `\n    <img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${title}</p>\n      <ul class=\"modal-product__tags\">${tagsMarkup}</ul>\n      <p class=\"modal-product__description\">${description}</p>\n      <p class=\"modal-product__shipping-information\">Brand: ${brand}</p>\n      <p class=\"modal-product__return-policy\">Return Policy: 30 days</p>\n      <p class=\"modal-product__price\">Price: ${price}$</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>\n  `;\n}\n\nexport function renderModal(product) {\n  const modal = document.querySelector('.modal'); // üîÑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä\n\n  if (!modal) {\n    console.error('‚ùå –ú–æ–¥–∞–ª–∫–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞ –≤ DOM!');\n    return;\n  }\n\n  modal.innerHTML = createProductModal(product);\n  modal.classList.add('modal--is-open');\n}\n","//–õ–æ–≥—ñ–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ Home\n// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport iziToast from 'izitoast';\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  getCategories,\n  getProducts,\n  getCategoryProducts,\n  getOneProduct,\n} from './js/products-api';\n\nimport { refs } from './js/refs';\n\nimport {\n  renderGallery,\n  renderProducts,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n  renderProductsAll,\n  renderModal,\n} from './js/render-function';\n\nrefs.categories.addEventListener('click', handleClick);\nrefs.loadMoreBtn.addEventListener('click', handleLoadMore);\nrefs.products.addEventListener('click', cardclick);\n\nlet currentPage = 1;\nlet currentCategory = null;\n\nasync function showCategories() {\n  try {\n    const response = await getCategories();\n    const info = response;\n    renderGallery(info);\n  } catch (error) {\n    iziToast.error({\n      message: '–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ!',\n      position: 'topRight',\n    });\n  }\n}\nshowCategories();\n\nasync function showProducts(page = 1) {\n  try {\n    const response = await getProducts(page);\n    const items = response.products;\n    renderProducts(items);\n  } catch (error) {\n    console.log('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:', error);\n  }\n}\n\nshowProducts();\n\nasync function handleClick(event) {\n  const target = event.target;\n\n  const button = target.closest('.categories__btn');\n  if (!button) return; // –ö–ª—ñ–∫ –Ω–µ –ø–æ –∫–Ω–æ–ø—Ü—ñ ‚Äî —ñ–≥–Ω–æ—Ä—É—î–º–æ\n\n  const li = button.closest('.categories_item'); // –∑–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –ø—Ä–µ–¥–∫–∞\n  if (!li) return;\n\n  const categoryId = li.dataset.id;\n  console.log('–í–∏–±—Ä–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è:', categoryId);\n\n  const allButtons = document.querySelectorAll('.categories__btn');\n  allButtons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  button.classList.add('categories__btn--active');\n\n  currentCategory = categoryId; // üü† –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—Ç–æ—á–Ω—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é\n  currentPage = 1; // üü† –ø–æ—á–∏–Ω–∞—î–º–æ –∑ –ø–µ—Ä—à–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏\n\n  showCategoriesProducts(categoryId); // ‚¨ÖÔ∏è –î–û–î–ê–ô –¶–ï–ô –í–ò–ö–õ–ò–ö\n\n  async function showCategoriesProducts() {\n    try {\n      const response = await getCategoryProducts(categoryId);\n      const items = response.products;\n      renderProducts(items);\n      if (items.length >= 12) {\n        refs.loadMoreBtn.classList.remove('hiddenbtn');\n      } else {\n        refs.loadMoreBtn.classList.add('hiddenbtn');\n      }\n    } catch (error) {\n      console.log('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:', error);\n    }\n  }\n}\n\nasync function handleLoadMore() {\n  currentPage += 1;\n  refs.loadMoreBtn.disabled = true;\n\n  try {\n    const response = await getProducts(currentPage); // ‚úÖ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ\n    const item = response.products;\n\n    renderProductsAll(item);\n\n    // –Ø–∫—â–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –º–µ–Ω—à–µ –Ω—ñ–∂ 12 ‚Äì –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î\n    if (item.length < 12) {\n      hideLoadMoreButton();\n      iziToast.info({\n        message: '–£—Å—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ.',\n        position: 'bottomCenter',\n        timeout: 3000,\n      });\n    }\n\n    // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞\n    const card = document.querySelector('.products');\n    const cardHeight = card.getBoundingClientRect().height;\n    window.scrollBy({\n      left: 0,\n      top: cardHeight * 3,\n      behavior: 'smooth',\n    });\n  } catch (error) {\n    iziToast.error({\n      message: '–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å',\n      position: 'topRight',\n    });\n  } finally {\n    refs.loadMoreBtn.disabled = false;\n  }\n}\n\nasync function cardclick(event) {\n  const productItem = event.target.closest('.products__item');\n  if (!productItem) return; // –ö–ª—ñ–∫ –Ω–µ –≤ –∫–∞—Ä—Ç–∫—É ‚Äî —ñ–≥–Ω–æ—Ä—É—î–º–æ\n\n  const productId = productItem.dataset.id;\n  console.log('üÜî ID –ø—Ä–æ–¥—É–∫—Ç—É:', productId);\n\n  try {\n    const response = await getOneProduct(productId); // üü¢ –ü–ï–†–ï–î–ê–Ñ–ú–û productId, –Ω–µ \"id\"\n    const product = response; // API –ø–æ–≤–µ—Ä—Ç–∞—î —Å–∞–º –æ–±'—î–∫—Ç, –∞ –Ω–µ product.productId\n\n    const modal = document.querySelector('.modal'); // üü¢ —Å–µ–ª–µ–∫—Ç–æ—Ä –±–µ–∑ 'div.' ‚Äî –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–ª–∞—Å—É\n    modal.classList.add('modal--is-open'); // üü¢ –∫–ª–∞—Å –º–∞—î –±—É—Ç–∏ —Ä—è–¥–∫–æ–º, –Ω–µ –∑–º—ñ–Ω–Ω–æ—é\n\n    renderModal(product); // üü¢ –ü–µ—Ä–µ–¥–∞—î–º–æ –¥–∞–Ω—ñ, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ id\n  } catch (error) {\n    console.log('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—É –ø–æ ID:', error);\n    iziToast.error({\n      message: '–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ!',\n      position: 'topRight',\n    });\n  }\n}\n"],"names":["BASE_URL","getCategories","axios","getProducts","currentPage","ENDPOINT","getCategoryProducts","categoryId","page","skip","getOneProduct","id","refs","createGallery","info","slug","name","renderGallery","createProducts","item","title","description","brand","category","images","price","renderProducts","products","hideLoadMoreButton","renderProductsAll","createProductModal","product","tags","tagsMarkup","tag","renderModal","modal","handleClick","handleLoadMore","cardclick","showCategories","iziToast","showProducts","items","error","event","button","li","btn","showCategoriesProducts","cardHeight","productItem","productId"],"mappings":"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"}