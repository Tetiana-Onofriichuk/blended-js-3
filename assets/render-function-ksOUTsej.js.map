{"version":3,"file":"render-function-ksOUTsej.js","sources":["../../src/js/products-api.js","../../src/js/storage.js","../../src/js/render-function.js"],"sourcesContent":["// –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–µ–∫–µ–Ω–¥–æ–º\n\nimport axios from 'axios';\n\nconst BASE_URL = 'https://dummyjson.com';\n\nexport async function getCategories() {\n  const ENDPOINT = '/products/categories';\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getProducts(currentPage = 1) {\n  const ENDPOINT = `/products?limit=12&skip=${(currentPage - 1) * 12}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getCategoryProducts(categoryId, page = 1) {\n  const skip = (page - 1) * 12;\n  const ENDPOINT = `/products/category/${categoryId}?limit=12&skip=${skip}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getOneProduct(id) {\n  const ENDPOINT = `/products/${id}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  return response.data;\n}\n\nexport async function getSearchProduct(q) {\n  const ENDPOINT = `/products/search?q=${encodeURIComponent(q)}`;\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`);\n  console.log('üì¶ API –≤—ñ–¥–ø–æ–≤—ñ–¥—å:', response.data);\n  return response.data;\n}\n","//–†–æ–±–æ—Ç–∞ –∑ loacalStorage\n\nexport function updateCartCounter() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const counter = document.querySelector('.nav__count');\n  if (counter) counter.textContent = cart.length;\n}\n\nexport function updateWishlistCounter() {\n  const wishlist = JSON.parse(localStorage.getItem('wishList')) || [];\n  const counter = document.querySelector('[data-wishlist-count]');\n  if (counter) counter.textContent = wishlist.length;\n}\n","//–§—É–Ω–∫—Ü—ñ—é –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–Ω–¥–µ—Ä—É –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ç–∫–∏\nimport { updateCartCounter } from './storage';\n\nfunction createGallery(info) {\n  return info\n    .map(\n      ({ slug, name }) => `\n          <li class=\"categories_item\" data-id=\"${slug}\">\n           \n           <button class=\"categories__btn\">${name}</button>\n\n          </li>\n        `\n    )\n    .join('');\n}\n\nexport function renderGallery(info) {\n  const categories = document.querySelector('.categories');\n  categories.insertAdjacentHTML('beforeend', createGallery(info));\n}\n\nfunction createProducts(item) {\n  const cart = JSON.parse(localStorage.getItem('cart') || '[]');\n\n  return item\n    .map(({ id, title, description, brand, category, images, price }) => {\n      const inCart = cart.includes(id);\n      return `\n        <li class=\"products__item\" data-id=\"${id}\">\n          <img class=\"products__image\" src=\"${\n            images[0]\n          }\" alt=\"${description}\" />\n          <p class=\"products__title\">${title}</p>\n          <p class=\"products__brand\">\n            <span class=\"products__brand--bold\">Brand: ${brand}</span>\n          </p>\n          <p class=\"products__category\">Category: ${category}</p>\n          <p class=\"products__price\">Price: ${price} $</p>\n          <button \n            class=\"add-cart-btn\" \n            data-id=\"${id}\" \n            data-add-cart>\n            ${inCart ? 'Remove from Cart' : 'Add to Cart'}\n          </button>\n        </li>\n      `;\n    })\n    .join('');\n}\n\nexport function renderProducts(item) {\n  const products = document.querySelector('.products');\n  products.innerHTML = ''; // üßπ –æ—á–∏—â–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ\n  products.insertAdjacentHTML('beforeend', createProducts(item));\n  addCartListeners(); // ‚¨ÖÔ∏è –î–æ–¥–∞–Ω–æ\n}\n\nexport function showLoadMoreButton() {\n  refs.buttonMore.classList.remove('hiddenbtn');\n}\n\nexport function hideLoadMoreButton() {\n  refs.buttonMore.classList.add('hiddenbtn');\n}\n\nexport function renderProductsAll(item) {\n  const products = document.querySelector('.products');\n  products.insertAdjacentHTML('beforeend', createProducts(item));\n  addCartListeners(); // ‚¨ÖÔ∏è –î–æ–¥–∞–Ω–æ\n}\n\nexport function createProductModal(product) {\n  const { title, description, brand, category, images, price, tags } = product;\n  const tagsMarkup = Array.isArray(tags)\n    ? tags.map(t => `<li>${t}</li>`).join('')\n    : '';\n\n  return `\n    <div class=\"modal__content\">\n      <button class=\"modal__close-btn\" type=\"button\"></button>\n      <div class=\"modal-product\">\n        <img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n        <div class=\"modal-product__content\">\n          <p class=\"modal-product__title\">${title}</p>\n          <ul class=\"modal-product__tags\">${tagsMarkup}</ul>\n          <p class=\"modal-product__description\">${description}</p>\n          <p class=\"modal-product__shipping-information\">${brand}</p>\n          <p class=\"modal-product__return-policy\">30 days</p>\n          <p class=\"modal-product__price\">Price: ${price} $</p>\n          <div class=\"modal-product__actions\">\n            <button class=\"modal-product__btn modal-product__btn--wishlist\" type=\"button\">\n              Add to Wishlist\n            </button>\n            <button class=\"modal-product__btn modal-product__btn--cart\" type=\"button\">\n              Add to Cart\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\nfunction addCartListeners() {\n  const buttons = document.querySelectorAll('[data-add-cart]');\n  buttons.forEach(button => {\n    button.addEventListener('click', async event => {\n      try {\n        const productId = Number(event.currentTarget.dataset.id);\n        if (!productId) return;\n\n        let cart = JSON.parse(localStorage.getItem('cart')) || [];\n        const isInCart = cart.includes(productId);\n\n        if (isInCart) {\n          cart = cart.filter(id => id !== productId);\n        } else {\n          cart.push(productId);\n        }\n\n        localStorage.setItem('cart', JSON.stringify(cart));\n\n        event.currentTarget.textContent = cart.includes(productId)\n          ? 'Remove from Cart'\n          : 'Add to Cart';\n\n        const counter = document.querySelector('[data-cart-count]');\n        if (counter) counter.textContent = cart.length;\n      } catch (error) {\n        iziToast.error({\n          message: '–ù–µ –≤–¥–∞–ª–æ—Å—è –æ–Ω–æ–≤–∏—Ç–∏ –∫–æ—à–∏–∫',\n          position: 'topRight',\n        });\n      }\n    });\n  });\n}\n"],"names":["BASE_URL","getCategories","axios","getProducts","currentPage","ENDPOINT","getCategoryProducts","categoryId","page","skip","getOneProduct","id","getSearchProduct","q","response","updateCartCounter","cart","counter","updateWishlistCounter","wishlist","createGallery","info","slug","name","renderGallery","createProducts","item","title","description","brand","category","images","price","inCart","renderProducts","products","addCartListeners","hideLoadMoreButton","renderProductsAll","createProductModal","product","tags","tagsMarkup","t","button","event","productId"],"mappings":"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"}