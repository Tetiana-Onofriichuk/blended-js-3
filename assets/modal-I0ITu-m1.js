import{i}from"./vendor-B3Dcf2UE.js";import{i as a,u as n,j as d}from"./render-function-ksOUTsej.js";const y={categories:document.querySelector(".categories"),products:document.querySelector(".products"),loadMoreBtn:document.querySelector(".button-more"),form:document.querySelector(".search-form"),modal:document.querySelector(".modal"),notFoundBlock:document.querySelector(".not-found"),itemCount:document.querySelector("[data-count]"),totalPrice:document.querySelector("[data-price]")};async function l(r){try{const t=Number(r.currentTarget.dataset.id);if(!t)return;let e=JSON.parse(localStorage.getItem("cart"))||[];const s=e.includes(t);s?e=e.filter(c=>c!==t):e.push(t),localStorage.setItem("cart",JSON.stringify(e)),r.currentTarget.textContent=s?"Add to Cart":"Remove from Cart";const o=document.querySelector("[data-cart-count]");o&&(o.textContent=e.length)}catch(t){console.error("❌ Помилка при оновленні кошика:",t),i.error({message:"Не вдалося оновити кошик",position:"topRight"})}}async function u(r){try{const t=Number(r.currentTarget.dataset.id);if(!t)return;let e=JSON.parse(localStorage.getItem("wishList"))||[];const s=e.includes(t);s?e=e.filter(c=>c!==t):e.push(t),localStorage.setItem("wishList",JSON.stringify(e)),r.currentTarget.textContent=s?"Add to Wishlist":"Remove from Wishlist";const o=document.querySelector("[data-wishlist-count]");o&&(o.textContent=e.length)}catch(t){console.error("❌ Помилка при оновленні wishlist:",t),i.error({message:"Не вдалося оновити wishlist",position:"topRight"})}}function S(r){const t=document.querySelector(".modal");t.innerHTML=d(r),t.classList.remove("visually-hidden"),t.classList.add("modal--is-open");const e=t.querySelector(".modal-product__btn--cart"),s=t.querySelector(".modal-product__btn--wishlist");e.dataset.id=r.id,e.addEventListener("click",l),s.dataset.id=r.id,s.addEventListener("click",u);const o=t.querySelector(".modal__close-btn");o==null||o.addEventListener("click",()=>{t.classList.add("visually-hidden"),t.classList.remove("modal--is-open"),t.innerHTML=""})}a();n();export{y as a,S as r};
//# sourceMappingURL=modal-I0ITu-m1.js.map
