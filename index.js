import{a as h,r as d,b as g,c as f,h as y,g as b,d as w,e as v,f as L}from"./assets/render-function-ksOUTsej.js";import{i as n}from"./assets/vendor-B3Dcf2UE.js";import{a as r,r as _}from"./assets/modal-I0ITu-m1.js";r.categories.addEventListener("click",M);r.loadMoreBtn.addEventListener("click",C);r.products.addEventListener("click",R);r.form.addEventListener("submit",k);let i=1;async function B(){try{const t=await v();L(t)}catch{n.error({message:"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ!",position:"topRight"})}}B();async function P(o=1){try{const e=(await g(o)).products;d(e)}catch(t){console.log("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:",t)}}P();async function M(o){const e=o.target.closest(".categories__btn");if(!e)return;const s=e.closest(".categories_item");if(!s)return;const c=s.dataset.id;console.log("–í–∏–±—Ä–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è:",c),document.querySelectorAll(".categories__btn").forEach(a=>a.classList.remove("categories__btn--active")),e.classList.add("categories__btn--active"),i=1,m(c);async function m(a){try{const u=(await h(a)).products;d(u),u.length>=12?r.loadMoreBtn.classList.remove("hiddenbtn"):r.loadMoreBtn.classList.add("hiddenbtn")}catch(l){console.log("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:",l)}}}async function C(){i+=1,r.loadMoreBtn.disabled=!0;try{const t=(await g(i)).products;f(t),t.length<12&&(y(),n.info({message:"–£—Å—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ.",position:"bottomCenter",timeout:3e3}));const s=document.querySelector(".products").getBoundingClientRect().height;window.scrollBy({left:0,top:s*3,behavior:"smooth"})}catch{n.error({message:"–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å",position:"topRight"})}finally{r.loadMoreBtn.disabled=!1}}async function R(o){const t=o.target.closest(".products__item");if(!t)return;const e=t.dataset.id;console.log("üÜî ID –ø—Ä–æ–¥—É–∫—Ç—É:",e);try{const c=await b(e);document.querySelector(".modal").classList.add("modal--is-open"),_(c)}catch(s){console.log("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç—É –ø–æ ID:",s),n.error({message:"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ!",position:"topRight"})}}async function k(o){o.preventDefault();const t=r.form.elements.searchValue.value.trim();if(t===""){n.warning({message:"–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è!",position:"topRight"});return}try{const s=(await w(t)).products;if(!s||s.length===0){n.info({message:"–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –∑–∞ –∑–∞–ø–∏—Ç–æ–º."});return}d(s)}catch(e){console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ –ø–æ—à—É–∫—É:",e),n.error({message:"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ!",position:"topRight"})}}
//# sourceMappingURL=index.js.map
