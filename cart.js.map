{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { updateCartCounter } from './js/storage';\n\nimport { getOneProduct } from './js/products-api';\nimport { renderProducts } from './js/render-function';\n\nconst cartIds = JSON.parse(localStorage.getItem('cart')) || [];\nconst notFoundBlock = document.querySelector('.not-found');\nconst productsList = document.querySelector('.products');\nconst countSpan = document.querySelector('[data-count]');\nconst priceSpan = document.querySelector('[data-price]');\n\nasync function loadCartProducts() {\n  if (cartIds.length === 0) {\n    notFoundBlock.style.display = 'block';\n    return;\n  }\n\n  try {\n    const productPromises = cartIds.map(id => getOneProduct(id));\n    const products = await Promise.all(productPromises);\n\n    renderProducts(products);\n\n    const totalPrice = products.reduce((acc, p) => acc + p.price, 0);\n    const totalCount = products.length;\n\n    if (countSpan) countSpan.textContent = totalCount;\n    if (priceSpan) priceSpan.textContent = `$${totalPrice}`;\n    priceSpan.textContent = `$${totalPrice.toFixed(2)}`;\n  } catch (error) {\n    console.error('❌ Помилка при завантаженні товарів з кошика:', error);\n  }\n}\n\nloadCartProducts();\nupdateCartCounter();\n"],"names":["cartIds","notFoundBlock","countSpan","priceSpan","loadCartProducts","productPromises","id","getOneProduct","products","renderProducts","totalPrice","acc","p","totalCount","error","updateCartCounter"],"mappings":"2GASA,MAAMA,EAAU,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GACtDC,EAAgB,SAAS,cAAc,YAAY,EACpC,SAAS,cAAc,WAAW,EACvD,MAAMC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAY,SAAS,cAAc,cAAc,EAEvD,eAAeC,GAAmB,CAChC,GAAIJ,EAAQ,SAAW,EAAG,CACxBC,EAAc,MAAM,QAAU,QAC9B,MACD,CAED,GAAI,CACF,MAAMI,EAAkBL,EAAQ,IAAIM,GAAMC,EAAcD,CAAE,CAAC,EACrDE,EAAW,MAAM,QAAQ,IAAIH,CAAe,EAElDI,EAAeD,CAAQ,EAEvB,MAAME,EAAaF,EAAS,OAAO,CAACG,EAAKC,IAAMD,EAAMC,EAAE,MAAO,CAAC,EACzDC,EAAaL,EAAS,OAExBN,IAAWA,EAAU,YAAcW,GACnCV,IAAWA,EAAU,YAAc,IAAIO,CAAU,IACrDP,EAAU,YAAc,IAAIO,EAAW,QAAQ,CAAC,CAAC,EAClD,OAAQI,EAAO,CACd,QAAQ,MAAM,+CAAgDA,CAAK,CACpE,CACH,CAEAV,IACAW,EAAmB"}